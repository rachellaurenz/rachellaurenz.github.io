<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B-day & V-day Suprise</title>
<head>


<style>
body {
  font-family: sans-serif;
  text-align: center;
  padding: 20px;
  background-color:rgb(245, 215, 220);
}

.stage {
  display: none;
}

.stage.active {
  display: block;
}

button {
  padding: 10px 20px;
  margin-top: 15px;
}

input {
  padding: 8px;
}
</style>
</head>

<body>

<h1>Our Valentine Adventure</h1>

<!-- TITLE / WELCOME PAGE -->
<div class="stage active" id="title">
  <h1>Welcome to your Birthday & Valentine‚Äôs Day Scavenger Hunt!! üíõ</h1>
  <p>Before starting, make sure you eat breakfast, and feel free to take a break to eat lunch at any point!</p>
  <button onclick="startHunt()">Ready!</button>
</div>


<!-- STAGE 1 -->
<div class="stage" id="s1">
  <p>Go to where we kissed for the first time.</p>
  <p>Now upload a selfie</p>
  <input type="file" onchange="savePhoto(event)"><br>
  <button onclick="next()">Done</button>
</div>


<!-- STAGE 2 -->
<div class="stage" id="s2">
  <p>How many steps is it from there to where you said ‚ÄúI love you‚Äù for the first time?<br> (this number will be important later)</p>
  <input id="stepsInput" type="number"><br>
  <button onclick="saveSteps()">Submit</button>
</div>

<!-- STAGE 3 -->
<div class="stage" id="s3">
  <p>Ready to leave the apartment?<br> Go to where we carpooled on our first date.</p>
  <button onclick="next()">We‚Äôre here</button>
</div>

<!-- STAGE 4 -->
<div class="stage" id="s4">
  <p>Now take a selfie sitting on your car.</p>
  <input type="file" onchange="savePhoto(event)"><br>
  <button onclick="next()">Done</button>
</div>

<!-- STAGE 5 -->
<div class="stage" id="s5">
  <p>Is it cold today? Is there snow?</p>
  <button onclick="snowYes()">Yes</button>
  <button onclick="snowNo()">No</button>
</div>

<!-- ICE SKATING -->
<div class="stage" id="ice">
  <p>Ice skating time ‚õ∏Ô∏è</p>
  <button onclick="next()">Done</button>
</div>

<!-- PICNIC -->
<div class="stage" id="picnic">
  <p>Picnic time üß∫</p>
  <button onclick="next()">Done</button>
</div>

<!-- THRIFT -->
<div class="stage" id="s6">
  <p>Do you remember how many steps you entered?</p>
  <p id="stepsReveal">That's the amount of time</p>
  <p>That's how many minutes you have to pick something weird out for the other person to wear the rest of the day (if you have extra time pick out more than one thing).</p>
  <input type="file" onchange="savePhoto(event)"><br>
  <button onclick="next()">Done</button>
</div>

<!-- MET FIRST -->
<div class="stage" id="s7">
  <p>Ready to go for a longer ride? <br>Take a selfie where we met for the first time.</p>
  <input type="file" onchange="savePhoto(event)"><br>
  <button onclick="next()">Done</button>
</div>

<!-- GAS STATION -->
<div class="stage" id="s8">
  <p>Go to a nearby gas station or Dollar General and grab a random food item you want to experiment with
</p>
  <button onclick="next()">Done</button>
</div>

<!-- KITCHEN -->
<div class="stage" id="s9">
  <p>Go to your kitchen.</p>
  <button onclick="next()">We‚Äôre here</button>
</div>

<!-- SWEET TREAT -->
<div class="stage" id="s10">
  <p>Make a sweet treat and somehow incorporate the snacks picked. Take a selfie!</p>
  <input type="file" onchange="savePhoto(event)"><br>
  <button onclick="next()">Done</button>
</div>

<!-- MUSICAL -->
<div class="stage" id="s11">
  <p>What time is it? Is it time for a musical? Upload a picture!!</p>
  <input type="file" onchange="savePhoto(event)"><br>
  <button onclick="next()">Done</button>
</div>

<!-- FINAL -->
<div class="stage" id="s12">
  <h2>Final clue</h2>
  <p>Now look on your bed‚Ä¶ under your bed‚Ä¶ on your wall‚Ä¶</p>
  <p><strong>That‚Äôs where your gift is.</strong></p>

  <h3>Our day</h3>
  <div id="collage"></div>
</div>

<script>
let photos = [];
let current = 0;
let steps = 0;

function startHunt() {
  // Hide title page
  document.getElementById("title").classList.remove("active");
  // Show first stage
  show("s1");
  // Set current stage to 1 so your existing next() logic works
  current = 1;
}



function show(id) {
  document.querySelectorAll('.stage').forEach(s => s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}


function next() {
  current++;
  if(current === 13) buildCollage();
  show("s" + current);
}

function saveSteps() {
  steps = document.getElementById("stepsInput").value;
  next();
}

function snowYes() {
  show("ice");
  current = 5;
}

function snowNo() {
  show("picnic");
  current = 5;
}

// When leaving picnic or ice
document.getElementById("ice").querySelector("button").onclick = afterWeather;
document.getElementById("picnic").querySelector("button").onclick = afterWeather;

function afterWeather() {
  show("s6");
  document.getElementById("stepsReveal").innerText =
    `It was ${steps} steps ->`;
}

function savePhoto(e) {
  const file = e.target.files[0];
  if (!file) return;

  const url = URL.createObjectURL(file);
  photos.push(url);
}


function buildCollage() {
  const collage = document.getElementById("collage");
  collage.innerHTML = "";

  photos.forEach(p => {
    const img = document.createElement("img");
    img.src = p;
    img.style.width = "120px";
    img.style.margin = "6px";
    img.style.borderRadius = "10px";
    collage.appendChild(img);
  });
}

</script>

</body>
</html>
